# Rust é¡¹ç›®æ¨¡æ¿åº“

> å¿«é€Ÿå¯åŠ¨å„ç±» Rust é¡¹ç›®çš„æ¨¡æ¿é›†åˆ

## ğŸ“š æ¨¡æ¿åˆ—è¡¨

### 1. CLI åº”ç”¨æ¨¡æ¿
**è·¯å¾„**: [cli-app/](./cli-app/)  
**é€‚ç”¨åœºæ™¯**: å‘½ä»¤è¡Œå·¥å…·ã€è„šæœ¬ã€å®ç”¨ç¨‹åº  
**åŒ…å«å†…å®¹**:
- å‘½ä»¤è¡Œå‚æ•°è§£æ (clap)
- é”™è¯¯å¤„ç† (anyhow)
- æ—¥å¿—è®°å½• (env_logger)
- é…ç½®æ–‡ä»¶æ”¯æŒ

### 2. Web API æ¨¡æ¿
**è·¯å¾„**: [web-api/](./web-api/)  
**é€‚ç”¨åœºæ™¯**: RESTful APIã€Web æœåŠ¡  
**åŒ…å«å†…å®¹**:
- Axum æ¡†æ¶
- è·¯ç”±é…ç½®
- ä¸­é—´ä»¶ç¤ºä¾‹
- æ•°æ®åº“è¿æ¥æ± 
- JWT è®¤è¯

### 3. å¼‚æ­¥æœåŠ¡æ¨¡æ¿
**è·¯å¾„**: [async-service/](./async-service/)  
**é€‚ç”¨åœºæ™¯**: å¼‚æ­¥ç½‘ç»œæœåŠ¡ã€é«˜å¹¶å‘åº”ç”¨  
**åŒ…å«å†…å®¹**:
- Tokio è¿è¡Œæ—¶
- å¼‚æ­¥ä»»åŠ¡ç®¡ç†
- æ¶ˆæ¯é˜Ÿåˆ—é›†æˆ
- ä¼˜é›…å…³é—­

### 4. åº“é¡¹ç›®æ¨¡æ¿
**è·¯å¾„**: [library/](./library/)  
**é€‚ç”¨åœºæ™¯**: å¯å¤ç”¨çš„åº“ã€crate  
**åŒ…å«å†…å®¹**:
- å®Œæ•´çš„æ–‡æ¡£æ³¨é‡Š
- å•å…ƒæµ‹è¯•
- é›†æˆæµ‹è¯•
- ç¤ºä¾‹ä»£ç 
- CI/CD é…ç½®

### 5. å·¥ä½œç©ºé—´æ¨¡æ¿
**è·¯å¾„**: [workspace/](./workspace/)  
**é€‚ç”¨åœºæ™¯**: å¤šåŒ…é¡¹ç›®ã€å¾®æœåŠ¡æ¶æ„  
**åŒ…å«å†…å®¹**:
- å·¥ä½œç©ºé—´é…ç½®
- å¤šä¸ªå­åŒ…
- å…±äº«ä¾èµ–
- ç»Ÿä¸€æ„å»ºè„šæœ¬

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### æ–¹æ³• 1: ç›´æ¥å¤åˆ¶
```bash
# å¤åˆ¶æ¨¡æ¿åˆ°æ–°é¡¹ç›®
cp -r templates/cli-app my-new-project
cd my-new-project
cargo build
```

### æ–¹æ³• 2: ä½¿ç”¨ cargo-generate
```bash
# å®‰è£… cargo-generate
cargo install cargo-generate

# ä½¿ç”¨æ¨¡æ¿åˆ›å»ºé¡¹ç›®
cargo generate --git https://github.com/your-repo/rust-100-days \
                --name my-project \
                templates/cli-app
```

### æ–¹æ³• 3: æ‰‹åŠ¨åˆ›å»ºå¹¶å‚è€ƒ
```bash
# åˆ›å»ºæ–°é¡¹ç›®
cargo new my-project

# å‚è€ƒæ¨¡æ¿ä¿®æ”¹ Cargo.toml å’Œä»£ç 
```

## ğŸ“ æ¨¡æ¿è¯¦æƒ…

### CLI åº”ç”¨æ¨¡æ¿

**ä¾èµ–**:
```toml
[dependencies]
clap = { version = "4.0", features = ["derive"] }
anyhow = "1.0"
env_logger = "0.10"
log = "0.4"
```

**ç‰¹ç‚¹**:
- ä½¿ç”¨ clap çš„ derive å®ç®€åŒ–å‚æ•°è§£æ
- ç»Ÿä¸€çš„é”™è¯¯å¤„ç†
- ç»“æ„åŒ–æ—¥å¿—
- é…ç½®æ–‡ä»¶æ”¯æŒ

**é€‚åˆé¡¹ç›®**:
- æ–‡ä»¶å¤„ç†å·¥å…·
- æ•°æ®è½¬æ¢å·¥å…·
- ç³»ç»Ÿç®¡ç†è„šæœ¬

---

### Web API æ¨¡æ¿

**ä¾èµ–**:
```toml
[dependencies]
axum = "0.7"
tokio = { version = "1", features = ["full"] }
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"
sqlx = { version = "0.7", features = ["runtime-tokio-native-tls", "postgres"] }
tower = "0.4"
tower-http = { version = "0.5", features = ["trace"] }
```

**ç‰¹ç‚¹**:
- ç°ä»£åŒ–çš„ Web æ¡†æ¶
- ç±»å‹å®‰å…¨çš„è·¯ç”±
- ä¸­é—´ä»¶æ”¯æŒ
- æ•°æ®åº“é›†æˆ

**é€‚åˆé¡¹ç›®**:
- RESTful API
- å¾®æœåŠ¡
- Web åç«¯

---

### å¼‚æ­¥æœåŠ¡æ¨¡æ¿

**ä¾èµ–**:
```toml
[dependencies]
tokio = { version = "1", features = ["full"] }
async-trait = "0.1"
futures = "0.3"
tracing = "0.1"
tracing-subscriber = "0.3"
```

**ç‰¹ç‚¹**:
- å®Œæ•´çš„ Tokio è¿è¡Œæ—¶
- å¼‚æ­¥ä»»åŠ¡ç®¡ç†
- ç»“æ„åŒ–æ—¥å¿—
- ä¼˜é›…å…³é—­æœºåˆ¶

**é€‚åˆé¡¹ç›®**:
- ç½‘ç»œæœåŠ¡
- æ¶ˆæ¯å¤„ç†
- å®æ—¶åº”ç”¨

---

### åº“é¡¹ç›®æ¨¡æ¿

**ç‰¹ç‚¹**:
- å®Œæ•´çš„æ–‡æ¡£æ³¨é‡Š
- å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
- ç¤ºä¾‹ä»£ç 
- README å’Œ CHANGELOG
- CI/CD é…ç½®

**é€‚åˆé¡¹ç›®**:
- å¯å¤ç”¨çš„åº“
- å·¥å…·åŒ…
- æ¡†æ¶ç»„ä»¶

---

### å·¥ä½œç©ºé—´æ¨¡æ¿

**ç»“æ„**:
```
workspace/
â”œâ”€â”€ Cargo.toml          # å·¥ä½œç©ºé—´é…ç½®
â”œâ”€â”€ common/             # å…±äº«ä»£ç 
â”œâ”€â”€ service-a/          # æœåŠ¡ A
â”œâ”€â”€ service-b/          # æœåŠ¡ B
â””â”€â”€ cli/                # CLI å·¥å…·
```

**ç‰¹ç‚¹**:
- ç»Ÿä¸€çš„ä¾èµ–ç®¡ç†
- ä»£ç å…±äº«
- ç»Ÿä¸€æ„å»ºå’Œæµ‹è¯•

**é€‚åˆé¡¹ç›®**:
- å¾®æœåŠ¡æ¶æ„
- å¤šæ¨¡å—é¡¹ç›®
- å¤§å‹åº”ç”¨

## ğŸ¯ é€‰æ‹©æŒ‡å—

| é¡¹ç›®ç±»å‹ | æ¨èæ¨¡æ¿ | è¯´æ˜ |
|---------|---------|------|
| å‘½ä»¤è¡Œå·¥å…· | CLI åº”ç”¨ | å‚æ•°è§£æã€æ–‡ä»¶å¤„ç† |
| Web API | Web API | RESTful æœåŠ¡ |
| ç½‘ç»œæœåŠ¡ | å¼‚æ­¥æœåŠ¡ | é«˜å¹¶å‘ã€å®æ—¶é€šä¿¡ |
| å¯å¤ç”¨åº“ | åº“é¡¹ç›® | å‘å¸ƒåˆ° crates.io |
| å¤§å‹é¡¹ç›® | å·¥ä½œç©ºé—´ | å¤šæ¨¡å—ã€å¾®æœåŠ¡ |

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. é¡¹ç›®ç»“æ„
```
my-project/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.rs         # å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ lib.rs          # åº“ä»£ç 
â”‚   â”œâ”€â”€ config.rs       # é…ç½®
â”‚   â”œâ”€â”€ error.rs        # é”™è¯¯å®šä¹‰
â”‚   â””â”€â”€ utils/          # å·¥å…·å‡½æ•°
â”œâ”€â”€ tests/              # é›†æˆæµ‹è¯•
â”œâ”€â”€ examples/           # ç¤ºä¾‹ä»£ç 
â”œâ”€â”€ benches/            # æ€§èƒ½æµ‹è¯•
â”œâ”€â”€ Cargo.toml          # é¡¹ç›®é…ç½®
â””â”€â”€ README.md           # é¡¹ç›®æ–‡æ¡£
```

### 2. ä¾èµ–ç®¡ç†
- ä½¿ç”¨ `workspace` ç»Ÿä¸€ç®¡ç†ä¾èµ–ç‰ˆæœ¬
- åªæ·»åŠ å¿…è¦çš„ä¾èµ–
- å®šæœŸæ›´æ–°ä¾èµ–

### 3. é”™è¯¯å¤„ç†
- ä½¿ç”¨ `anyhow` æˆ– `thiserror`
- å®šä¹‰æ¸…æ™°çš„é”™è¯¯ç±»å‹
- æä¾›æœ‰ç”¨çš„é”™è¯¯ä¿¡æ¯

### 4. æµ‹è¯•
- ç¼–å†™å•å…ƒæµ‹è¯•
- ç¼–å†™é›†æˆæµ‹è¯•
- ä½¿ç”¨ `cargo test` è¿è¡Œæµ‹è¯•

### 5. æ–‡æ¡£
- ç¼–å†™ README
- æ·»åŠ ä»£ç æ³¨é‡Š
- æä¾›ç¤ºä¾‹ä»£ç 

## ğŸ”§ è‡ªå®šä¹‰æ¨¡æ¿

ä½ å¯ä»¥åŸºäºè¿™äº›æ¨¡æ¿åˆ›å»ºè‡ªå·±çš„æ¨¡æ¿:

1. å¤åˆ¶æ¨¡æ¿
2. ä¿®æ”¹ `Cargo.toml`
3. è°ƒæ•´ä»£ç ç»“æ„
4. æ·»åŠ è‡ªå·±çš„ä¾èµ–
5. æ›´æ–°æ–‡æ¡£

## ğŸ“š ç›¸å…³èµ„æº

- [Cargo Book](https://doc.rust-lang.org/cargo/)
- [Rust API Guidelines](https://rust-lang.github.io/api-guidelines/)
- [cargo-generate](https://github.com/cargo-generate/cargo-generate)

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®æ–°çš„æ¨¡æ¿!è¯·å‚è€ƒ [è´¡çŒ®æŒ‡å—](../CONTRIBUTING.md)ã€‚

---

**åˆ›å»ºæ—¥æœŸ**: 2026-01-16
**æœ€åæ›´æ–°**: 2026-01-16
